pipelineJob('example-job') {
    description('A job that accepts a file parameter and prints the filename')
    parameters {
        fileParam('FILE_PARAM', 'Upload your file here')
    }
    definition {
        cps {
            script('''
                pipeline {
                    agent any
                    stages {
                        stage('Print Filename') {
                            steps {
                                script {
                                    def fileParam = params.FILE_PARAM
                                    if (fileParam) {
                                        echo "Uploaded filename: ${fileParam}"
                                    } else {
                                        echo "No file was uploaded."
                                    }
                                }
                            }
                        }
                    }
                }
            ''')
        }
    }
}
